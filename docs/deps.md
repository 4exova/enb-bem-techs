Форматы описания зависимостей между БЭМ-сущностями
==================================================

Речь пойдёт о&nbsp;форматах, которые описывают то&nbsp;как одна БЭМ-сущность зависит от&nbsp;другой.

В&nbsp;предметной области БЭМ любой такой формат будет являться технологией, которая может принадлежать как блокам,
так и&nbsp;элементам и&nbsp;модификаторам.

При сборке проекта, если одна БЭМ-сущность в&nbsp;своих зависимостях указывает на&nbsp;другую, то&nbsp;зависимости второй сущности
также участвуют в&nbsp;сборке (и&nbsp;так далее по&nbsp;иерархии зависимостей).

deps.js
-------

### Секции deps-файлов

Исходные `deps`-файлы описываются в&nbsp;виде выражений, возвращающих объект с&nbsp;зависимостями, указанными в&nbsp;определённых секциях:

* `shouldDeps` &mdash; определяются зависимости, порядок подключения которых не&nbsp;важен. Указанные БЭМ-сущности будут включены в&nbsp;результирующие файлы без гарантии порядка.
* `mustDeps` &mdash; определяются зависимости, которые влияют на&nbsp;порядок сборки. Это означает, что код указанных БЭМ-сущностей попадёт в&nbsp;результирующий файл гарантированно раньше, чем код той БЭМ-сущности для которой пишется файл с&nbsp;зависимостями.
* `noDeps` &mdash; определяются зависимости, которые надо исключить из&nbsp;на&nbsp;других уровнях переопределения. Будут отменены зависимости от&nbsp;более низких уровней переопределения до&nbsp;того уровня, на&nbsp;котором объявлен `noDeps`.

Пример:

```javascript
({
  mustDeps: [ 'button' ],
  shouldDeps: [ 'input' ],
  noDeps: [ 'checkbox' ]
})
```

### Формат описания зависимостей

В `deps.js` можно определять зависимости от&nbsp;блоков, элементов и&nbsp;модификаторов для всех технологий.

Параметры `mustDeps`, `shouldDeps`, `noDeps` в&nbsp;качестве значения принимают БЭМ-сущности: `block`, `elem`, `mod`, или
может использоваться расширенная запись БЭМ-сущностей, в&nbsp;которой элементы и&nbsp;модификаторы в&nbsp;качестве значения могут
принимать набор:

* `elems` (массив)&nbsp;&mdash; позволяет подключить несколько элементов для блока, а&nbsp;также сам блок;
* `mods` (объект)&nbsp;&mdash; объект в&nbsp;ключах которого могут быть массивы, позволяет подключить несколько модификаторов для блока или элемента, включая их&nbsp;соответственно.

Пример:

```js
({
  mustDeps: [
    { block: 'button' }, // зависимость от блока
    'button', // короткое описание зависимости от блока

    { block: 'button', mod: { theme: 'normal' } },           // зависимость только от модификатора, но не от блока
    { block: 'button', mods: { theme: 'normal' } },          // зависимость от блока и модификатора
    { block: 'button', mods: { theme: ['normal', 'new'] } }, // зависимость от блока и модификаторов
    { mods: { size: 'm' } },                                 // зависимости от модификатора текущей БЭМ-сущности

    { block: 'button', elem: 'text' },  // зависимость только от элемента, но не от блока
    { elem: 'text' },                   // зависимость от элемента текущего блока

    { block: 'button', elem: 'text', mods: { hover: 'yes' } }, // зависимость от элемента и модификатора элемента,
                                                               // но не от блока

    { block: 'button', elems: ['text', 'control'] }, // зависимость от блока и элементов блока
    { elems: ['text', 'control'] },                  // зависимость от элементов текущего блока
    {
        block : 'button',
        elems : [                                    // Значение ключа `elems` может содержать не только имя,
            { elem : 'e1' },                         // но и полное описание подключаемых элементов.
            { elem : 'e2', mods : { m1 : 'v1' } }
        ]
    }
  ]
})
```

